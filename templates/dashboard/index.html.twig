{% extends "layout.html.twig" %}

{% block content %}
    <h1>PrivaMov Fleet Management Tool <small>Dashboard</small></h1>

    <div class="row">
        <div class="col-sm-3 text-center bg-info" style="padding: 10px;">
            <b>{{ total }} known devices</b>
        </div>
        <div class="col-sm-3 text-center bg-success" style="padding: 10px;">
            <span class="glyphicon glyphicon-home"></span>
            {{ byStatus.available }} available
        </div>
        <div class="col-sm-3 text-center bg-warning" style="padding: 10px;">
            <span class="glyphicon glyphicon-arrow-right"></span>
            {{ byStatus.lent }} lent
        </div>
        <div class="col-sm-3 text-center bg-danger" style="padding: 10px;">
            <span class="glyphicon glyphicon-question-sign"></span>
            {{ byStatus.lost }} unavailable
        </div>
    </div>

    <div class="row" style="margin-top: 15px;">
        <div class="col-sm-6">
            <h5>Repartition of currently lent devices by segment and type</h5>
            {% embed "dashboard/table.html.twig" with {columns: segments, rows: types, data: byTypeSegment} %}{% endembed %}
        </div>
        <div class="col-sm-6">
            <h5>Repartition of devices by status and type</h5>
            {% embed "dashboard/table.html.twig" with {columns: statuses, rows: types, data: byTypeStatus} %}{% endembed %}
        </div>
    </div>
{% endblock %}
